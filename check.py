import os
import subprocess
from termcolor import colored
import pyfiglet

# Função para verificar se um executável está presente no sistema
def is_tool_installed(tool_name):
    for path in os.environ["PATH"].split(os.pathsep):
        path = path.strip('"')
        tool_path = os.path.join(path, tool_name)
        if os.path.exists(tool_path):
            return True
    return False

# Função para instalar uma ferramenta usando o apt
def install_with_apt(tool_name):
    print(f"Instalando {tool_name} usando apt...")
    subprocess.run(["sudo", "apt", "install", "-y", tool_name])
    banner = """

     ██▓███   ▒█████   ██▓     ██▓ ▄████▄   ▄▄▄       ██▀███   ██▓███   ▒█████  
    ▓██░  ██▒▒██▒  ██▒▓██▒    ▓██▒▒██▀ ▀█  ▒████▄    ▓██ ▒ ██▒▓██░  ██▒▒██▒  ██▒
    ▓██░ ██▓▒▒██░  ██▒▒██░    ▒██▒▒▓█    ▄ ▒██  ▀█▄  ▓██ ░▄█ ▒▓██░ ██▓▒▒██░  ██▒
    ▒██▄█▓▒ ▒▒██   ██░▒██░    ░██░▒▓▓▄ ▄██▒░██▄▄▄▄██ ▒██▀▀█▄  ▒██▄█▓▒ ▒▒██   ██░
    ▒██▒ ░  ░░ ████▓▒░░██████▒░██░▒ ▓███▀ ░ ▓█   ▓██▒░██▓ ▒██▒▒██▒ ░  ░░ ████▓▒░
    ▒▓▒░ ░  ░░ ▒░▒░▒░ ░ ▒░▓  ░░▓  ░ ░▒ ▒  ░ ▒▒   ▓▒█░░ ▒▓ ░▒▓░▒▓▒░ ░  ░░ ▒░▒░▒░ 
    ░▒ ░       ░ ▒ ▒░ ░ ░ ▒  ░ ▒ ░  ░  ▒     ▒   ▒▒ ░  ░▒ ░ ▒░░▒ ░       ░ ▒ ▒░ 
    ░░       ░ ░ ░ ▒    ░ ░    ▒ ░░          ░   ▒     ░░   ░ ░░       ░ ░ ░ ▒  
                 ░ ░      ░  ░ ░  ░ ░            ░  ░   ░                  ░ ░  
                                  ░
    """

    print(banner)

def main():
    figlet = pyfiglet.Figlet()
    print(colored(figlet.renderText("Ferramentas de Segurança"), 'cyan'))

    tools = [
        "nmap",
        "hydra",
        "gobuster",
        "enum4linux",
        "nikto",
	    "theHarvester",
	    "sqlmap",
        # Adicione outras ferramentas aqui
    ]

    for tool in tools:
        if is_tool_installed(tool):
            print(colored(f"[✓] {tool}", "green"))
        else:
            print(colored(f"[ ] {tool}", "red"))
            install_with_apt(tool)

if __name__ == "__main__":
    main()
